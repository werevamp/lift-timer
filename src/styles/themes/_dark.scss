// Dark Theme Definition
// Dark mode with carefully chosen colors for contrast and readability

@use '../globals/theme-system' as *;

// Mixin to apply dark theme styles
@mixin dark-theme-styles {
  // Color primitives - slightly adjusted for dark mode
  --color-primary-h: 217;
  --color-primary-s: 90%;
  --color-primary-l: 65%;
  
  --color-secondary-h: 192;
  --color-secondary-s: 90%;
  --color-secondary-l: 65%;
  
  --color-tertiary-h: 231;
  --color-tertiary-s: 85%;
  --color-tertiary-l: 70%;
  
  --color-success-h: 144;
  --color-success-s: 65%;
  --color-success-l: 58%;
  
  --color-warning-h: 45;
  --color-warning-s: 95%;
  --color-warning-l: 55%;
  
  --color-danger-h: 354;
  --color-danger-s: 75%;
  --color-danger-l: 65%;
  
  // Semantic colors for dark theme
  --color-background: hsl(222, 16%, 12%);
  --color-background-secondary: hsl(222, 16%, 10%);
  --color-surface: hsl(222, 16%, 16%);
  --color-surface-variant: hsl(222, 16%, 20%);
  
  --color-text: hsl(0, 0%, 95%);
  --color-text-secondary: hsl(216, 12%, 70%);
  --color-text-muted: hsl(216, 12%, 50%);
  --color-text-inverse: hsl(222, 16%, 12%);
  
  --color-border: hsl(216, 12%, 24%);
  --color-border-light: hsl(216, 12%, 20%);
  
  // Shadow color for dark theme (lighter shadows)
  --shadow-color: 255, 255, 255;
  --shadow-sm-theme: 0 1px 2px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(255, 255, 255, 0.05);
  --shadow-md-theme: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(255, 255, 255, 0.06);
  --shadow-lg-theme: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(255, 255, 255, 0.05);
  --shadow-xl-theme: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(255, 255, 255, 0.04);
  
  // Component specific
  --card-background: var(--color-surface);
  --input-border-color: var(--color-border);
  
  // Focus ring adjustment for dark theme
  --focus-ring-color: var(--color-primary-alpha-20);
  
  // Ionic overrides for dark theme
  --ion-background-color: var(--color-background);
  --ion-text-color: var(--color-text);
  --ion-border-color: var(--color-border);
  --ion-item-background: var(--color-surface);
  --ion-toolbar-background: var(--color-surface);
  --ion-tab-bar-background: var(--color-surface);
  
  // Set color scheme
  color-scheme: dark;
}

// Apply dark theme
@include apply-theme('dark') {
  @include dark-theme-styles;
}

// Auto dark mode based on system preference
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    @include dark-theme-styles;
  }
}