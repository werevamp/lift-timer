// High Contrast Theme Definition
// Optimized for maximum readability and accessibility

@use '../globals/theme-system' as *;

// Light high contrast theme
@include apply-theme('high-contrast') {
  // Use pure black and white for maximum contrast
  --color-primary-h: 217;
  --color-primary-s: 100%;
  --color-primary-l: 50%;
  
  --color-secondary-h: 192;
  --color-secondary-s: 100%;
  --color-secondary-l: 50%;
  
  --color-tertiary-h: 231;
  --color-tertiary-s: 100%;
  --color-tertiary-l: 50%;
  
  --color-success-h: 120;
  --color-success-s: 100%;
  --color-success-l: 35%;
  
  --color-warning-h: 45;
  --color-warning-s: 100%;
  --color-warning-l: 40%;
  
  --color-danger-h: 0;
  --color-danger-s: 100%;
  --color-danger-l: 45%;
  
  // High contrast semantic colors
  --color-background: hsl(0, 0%, 100%);
  --color-background-secondary: hsl(0, 0%, 100%);
  --color-surface: hsl(0, 0%, 100%);
  --color-surface-variant: hsl(0, 0%, 95%);
  
  --color-text: hsl(0, 0%, 0%);
  --color-text-secondary: hsl(0, 0%, 0%);
  --color-text-muted: hsl(0, 0%, 20%);
  --color-text-inverse: hsl(0, 0%, 100%);
  
  // Stronger borders
  --color-border: hsl(0, 0%, 0%);
  --color-border-light: hsl(0, 0%, 30%);
  
  // No shadows in high contrast mode
  --shadow-color: transparent;
  --shadow-sm-theme: none;
  --shadow-md-theme: none;
  --shadow-lg-theme: none;
  --shadow-xl-theme: none;
  
  // Thicker focus rings
  --focus-ring-width: 3px;
  --focus-ring-color: var(--color-primary);
  --focus-ring-offset: 3px;
  
  // Stronger hover states
  --hover-opacity: 0.9;
  
  // Component overrides
  --card-shadow: 0 0 0 2px var(--color-border);
  --input-border-color: var(--color-border);
  
  // Ionic overrides
  --ion-background-color: var(--color-background);
  --ion-text-color: var(--color-text);
  --ion-border-color: var(--color-border);
  
  // Remove all decorative elements
  &::before,
  &::after {
    opacity: 0 !important;
  }
  
  // Ensure all text meets WCAG AAA standards
  & * {
    font-weight: 500 !important;
  }
}

// Dark high contrast variant
@include apply-theme('high-contrast-dark') {
  // Pure white on black
  --color-background: hsl(0, 0%, 0%);
  --color-background-secondary: hsl(0, 0%, 0%);
  --color-surface: hsl(0, 0%, 5%);
  --color-surface-variant: hsl(0, 0%, 10%);
  
  --color-text: hsl(0, 0%, 100%);
  --color-text-secondary: hsl(0, 0%, 100%);
  --color-text-muted: hsl(0, 0%, 80%);
  --color-text-inverse: hsl(0, 0%, 0%);
  
  --color-border: hsl(0, 0%, 100%);
  --color-border-light: hsl(0, 0%, 70%);
  
  // Brighter colors for dark high contrast
  --color-primary-h: 217;
  --color-primary-s: 100%;
  --color-primary-l: 70%;
  
  --color-secondary-h: 192;
  --color-secondary-s: 100%;
  --color-secondary-l: 70%;
  
  --color-tertiary-h: 231;
  --color-tertiary-s: 100%;
  --color-tertiary-l: 70%;
  
  --color-success-h: 120;
  --color-success-s: 100%;
  --color-success-l: 60%;
  
  --color-warning-h: 45;
  --color-warning-s: 100%;
  --color-warning-l: 60%;
  
  --color-danger-h: 0;
  --color-danger-s: 100%;
  --color-danger-l: 65%;
  
  // No shadows in high contrast mode
  --shadow-color: transparent;
  --shadow-sm-theme: none;
  --shadow-md-theme: none;
  --shadow-lg-theme: none;
  --shadow-xl-theme: none;
  
  // Thicker focus rings
  --focus-ring-width: 3px;
  --focus-ring-color: var(--color-primary);
  --focus-ring-offset: 3px;
  
  // Stronger hover states
  --hover-opacity: 0.9;
  
  // Component overrides
  --card-shadow: 0 0 0 2px var(--color-border);
  --input-border-color: var(--color-border);
  
  // Ionic overrides
  --ion-background-color: var(--color-background);
  --ion-text-color: var(--color-text);
  --ion-border-color: var(--color-border);
  
  // Set dark color scheme
  color-scheme: dark;
  
  // Remove all decorative elements
  &::before,
  &::after {
    opacity: 0 !important;
  }
  
  // Ensure all text meets WCAG AAA standards
  & * {
    font-weight: 500 !important;
  }
}

// Mixin for high contrast styles (for system preference)
@mixin high-contrast-styles {
  // Use pure black and white for maximum contrast
  --color-primary-h: 217;
  --color-primary-s: 100%;
  --color-primary-l: 50%;
  
  --color-secondary-h: 192;
  --color-secondary-s: 100%;
  --color-secondary-l: 50%;
  
  --color-tertiary-h: 231;
  --color-tertiary-s: 100%;
  --color-tertiary-l: 50%;
  
  --color-success-h: 120;
  --color-success-s: 100%;
  --color-success-l: 35%;
  
  --color-warning-h: 45;
  --color-warning-s: 100%;
  --color-warning-l: 40%;
  
  --color-danger-h: 0;
  --color-danger-s: 100%;
  --color-danger-l: 45%;
  
  // High contrast semantic colors
  --color-background: hsl(0, 0%, 100%);
  --color-background-secondary: hsl(0, 0%, 100%);
  --color-surface: hsl(0, 0%, 100%);
  --color-surface-variant: hsl(0, 0%, 95%);
  
  --color-text: hsl(0, 0%, 0%);
  --color-text-secondary: hsl(0, 0%, 0%);
  --color-text-muted: hsl(0, 0%, 20%);
  --color-text-inverse: hsl(0, 0%, 100%);
  
  // Stronger borders
  --color-border: hsl(0, 0%, 0%);
  --color-border-light: hsl(0, 0%, 30%);
  
  // No shadows in high contrast mode
  --shadow-color: transparent;
  --shadow-sm-theme: none;
  --shadow-md-theme: none;
  --shadow-lg-theme: none;
  --shadow-xl-theme: none;
  
  // Thicker focus rings
  --focus-ring-width: 3px;
  --focus-ring-color: var(--color-primary);
  --focus-ring-offset: 3px;
  
  // Stronger hover states
  --hover-opacity: 0.9;
  
  // Component overrides
  --card-shadow: 0 0 0 2px var(--color-border);
  --input-border-color: var(--color-border);
  
  // Ionic overrides
  --ion-background-color: var(--color-background);
  --ion-text-color: var(--color-text);
  --ion-border-color: var(--color-border);
}

// Mixin for dark high contrast styles (for system preference)
@mixin high-contrast-dark-styles {
  // Pure white on black
  --color-background: hsl(0, 0%, 0%);
  --color-background-secondary: hsl(0, 0%, 0%);
  --color-surface: hsl(0, 0%, 5%);
  --color-surface-variant: hsl(0, 0%, 10%);
  
  --color-text: hsl(0, 0%, 100%);
  --color-text-secondary: hsl(0, 0%, 100%);
  --color-text-muted: hsl(0, 0%, 80%);
  --color-text-inverse: hsl(0, 0%, 0%);
  
  --color-border: hsl(0, 0%, 100%);
  --color-border-light: hsl(0, 0%, 70%);
  
  // Brighter colors for dark high contrast
  --color-primary-l: 70%;
  --color-secondary-l: 70%;
  --color-tertiary-l: 70%;
  --color-success-l: 60%;
  --color-warning-l: 60%;
  --color-danger-l: 65%;
  
  // Component overrides
  --card-shadow: 0 0 0 2px var(--color-border);
  
  // Set dark color scheme
  color-scheme: dark;
}

// Apply high contrast when system preference is set
@media (prefers-contrast: high) {
  :root:not([data-theme]) {
    @include high-contrast-styles;
    
    // Remove all decorative elements
    &::before,
    &::after {
      opacity: 0 !important;
    }
    
    // Ensure all text meets WCAG AAA standards
    & * {
      font-weight: 500 !important;
    }
  }
  
  @media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
      @include high-contrast-styles;
      @include high-contrast-dark-styles;
      
      // Remove all decorative elements
      &::before,
      &::after {
        opacity: 0 !important;
      }
      
      // Ensure all text meets WCAG AAA standards
      & * {
        font-weight: 500 !important;
      }
    }
  }
}